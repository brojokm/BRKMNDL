<html>
<body>
Today we are going to be talking about minimum spanning trees. We are going to define what a minimum spanning tree is. We are also going to look at algorithms of minimum spanning trees. So you all know what a spanning tree is. Does everyone know what a spanning tree in a graph is? Did we define it? Yes we did. So I gave you an undirected graph, so what is a spanning tree in G? So spanning tree, the term is composed of two things. Tree and panning, tree means it should be a tree. What is a tree? Tree is a connected sub graph without any cycles. Connected sub graph without cycles that is a tree. And what does spanning mean? Spanning means that it should include all vertices. This basically means that it should include all vertices that would be a spanning tree in the graph. So for an example if I drew a graph something like that, say this were my graph. Then I could draw a spanning tree in this graph by let say, I am going to use a very, let us say, I pick this edge in the tree, pick this, pick that, pick that then I pick this and I pick this. How many edges do I need to pick? Is this a spanning tree? No. This vertex is not included here. I could pick one of the edges incident at this to include this. This is a spanning tree. We know that our spanning tree, if the graph has n vertices, so spanning tree has how many edges? number of vertices minus one edge. Yes great. What is a minimum spanning tree? Minimum spanning tree is a spanning tree of minimum weight. Sometimes I will use the term weight, sometimes I will use the terms length, one at the same thing. you are not just given the graph but we are also given a length function on the edges of the graph. Let me assume the lengths are non negative reals. So, every edge has a length now. So, think of that in the following way. These are certain cities and I can either draw or I can either connect these two cities by a wire or I can connect these two cities by a wire or I can connect these two by a wire, I can connect these, these or these. These are the possible options I have of connecting them with wires. Some options are not there. Why? could be some reason. So, this is a graph. Now, to connect two particular cities, I am also told, how much length of the wire I need, that is my length function. Suppose I told you that you need three here and you need five here and you need two here, what are the units? It could be anything, one thousand kilo meters, meters, I do not care. This could be 1, this could be 7, this could be 4, 6, nine point I just put in some numbers in between. So, we need to connect these cities which means we need to create a spanning tree and I am not interested in any spanning tree. I am interested in spanning tree for which the length of wire is spent as small as possible. So, that is what I mean by a minimum spanning tree, a spanning tree of a minimum length. What is the length of the spanning tree now? So, sum of the lengths of the edges in the tree. So, let us formally define that the length of the spanning tree equals sum of the lengths of the edges in the tree. So, I might now decide to pick some edges. Suppose I pick, I did not give this length, I give this the length four. Suppose, I pick this edge and I pick this edge and I pick this edge and I pick this edge and I pick this edge. So, I cannot pick this edge, it is not a tree at all, I cannot pick. So, let me pick something else. So, let me pick this six. What is the length of this tree? six plus four plus four plus three plus 5, twenty two right? There might be other trees in this, other spanning trees which are smaller than twenty two. I am interested in the finding the one which is the smallest. There is no notion of the root. In the case of spanning tree, when we defined, spanning tree is trees in graph, there was no notion of the root over. We call that also, we use the term free tree for that. There is no notion. Since, the vertex, since all the vertices are going to be included 3, 4, 1, 2, 5, 9, 7, 4, six and the edges we included were, this edge, one way you can convince yourself that this is not the smallest possible tree is, by seeing that for instance. If I include this edge of the length one then what is going to happen? Will it be a tree or We will be have a cycle. So, that is one property of a spanning tree always. It is a connected sub graph which means. So, I can go from, let say, this is vertex U and this is vertex V, I can go from U to V by following the edges of the tree and then I can take this edge that is added just now, back to go to U which means it form a cycle. If it is a cycle, it is not a tree any more. Now, in this cycle, suppose the edges have a certain length. Now, what can I do? I can include this edge and drop the edge of length four. Will that remain? Will that continue to be a tree? If I were to drop this edge, will it remain a tree? Why? Why would it remain connected? No notion of a descendant. There is no notion of a descendant. Why? That is the question. We have discussed this before. The point is that, if there is a path which gets it straight then that path must be using this edge. I can now create alternate path between those two vertices. By instead now, going like this between this two edges. So, that means they are still, is the path between those two vertices. All paths are still there or not paths are still there, all face of vertices are still connected. May be, by different path but they are still connected. So, that is an operation we can do always. I can try and add an edge, try to add an edge in to this tree and see if as a result of that operation, so, as a result of that operation, I will clearly form a cycle. If from that cycle, I can drop and edge of longer length than the edge I added, then I would have reduced the cost of this tree, the cost of the length or weight, I will use these terms So, I form of this cycle. I can drop any edge of this cycle and it will still remain a tree. Which is the edge I would like to drop? 4, I will drop this edge, four and now, my new tree has length what?, twenty two minus So, this new tree length twenty two minus three See, I can repeat the process, I can see, there is something else that can be done. Can you say something else that can be done? 2, so suppose, I include two point So, now I form the cycle which has edges of length three and five in it. So, it make sense to drop five and the reduction now is three units again. Now, let me draw the tree, we have the So, the tree that I have at this point is, this is the tree I have now. This is the edge, length 1, this is 3, this is 2, this is 4, this is six point Would it make sense to include some other edge and try and repeat the process? No, because, if I include this edge which is of length 4, then this edge is the longest edge on the cycle that gets and the edge I am including is the longest edge on the cycle. It does not make sense to include it, therefore. If I include this edge, it is of length five point The cycle found may, this is again the longest edge of the cycle. Does not make sense to include, If I include this edge 7, this is the cycle that get formed and seven is again the longest edge of the cycle. If I include this edge nine then there is the longer cycle that gets formed. But once again nine is the longest edge of the cycle. So, it does not make sense to include nine. So, it does not make sense to include any other edge. And so, actually, I should not say and so, the reason is that, is not the reason why, I cannot claim from this that this is the minimum spanning tree. But, it is the minimum spanning tree. We will use different arguments proving that. So, this is a minimum spanning tree in this graph. So, MST has length, what is the length of this? sixteen point This could be treated as an algorithm, so computing the minimum spanning tree. How did it work? You start with some tree then try to include an edge, look at the cycle that gets formed, see, if you can drop an edge of longer length from that cycle or if there is a longer edge on that cycle. If there is, then you can drop that edge and therefore reduce the cost of the tree. So, you keep doing procedure till you reduce the cost of the tree and you stop when you cannot reduce it anymore. But, we will not look at this algorithm or we will not analyse this algorithm because it will be fairly expensive, in terms of running time. We are going to look at the different algorithm for computing the minimum spanning tree and algorithm we are going to look at, is called Kruskal is algorithm. So, we are looking at Kruskal is algorithm in minimum spanning tree. It is actually very simply algorithm. Let me illustrate it on the same graph that we had before. I am going to draw this graph out. The algorithm is the following, it says, take the minimum edge in the graph. This is an example of what is called the greedy algorithm also. You will be greedy, you are all greed, but, we will now be greedy to compute the minimum spanning tree. So, what you think greedy means? Try to get the larger. Go for less? That is not greedy. Make the best possible choice at each time without thinking about the future. That is the key thing. Make the best choice available, I will not write without thinking of the future. But that is reason why it is called greedy. We just make the best available choice at each time. Here, of course, our objective is to minimize the length of a tree. What is the best thing to do at the first step? Take the edge with the smallest length. So, let us do that. We pick the edge with the smallest length, that is one and this gets included into a minimum spanning tree. So, I am now building the minimum spanning tree, edge by edge. I included the edge 1, edge of length one. Which is the next smallest edge? Which is the next best choice to make it? 2? two or 3? When you are saying, we need to connect it your thinking of the future. Do not do that. Think of the, be greedy, as greedy as you can. Just take the best choice. So, the next best is, just go for the length two and now what is greedy? Say next, which is the next I should take? 3, four So, it will form a cycle. Since it forms the cycle, we are not getting what we wanted. It is not a tree any more. So, you understand the only modification that I am making? If by including an edge, I form a cycle, I do not include that edge. So, I am not going to include edge 4, sorry, this, this particular edge. Which is the next edge that I would like to include? 5, I try to include five but five also forms the cycle. So, I do not include five point Which is the next edge I would like to include? 6, this edge, six. Actually, I can stop at this point because now I have a spanning tree. Any other edge that I try to include will always form a cycle because this is a spanning tree and so I can stop this. As you can see, this we have already argued in, we have not argue, this is the best possible. Actually, till now, we have not seen an argument for why this is a best possible. But, this is the same solution, we obtained earlier. Soon, we are going to argue that this is the very best possible. Does every one understand? Yes? Can we write down what the algorithm is? Let us quickly write down what the algorithm is, because it is very easy to write down. So, Kruskal is algorithm. So, let us say the very first step is sort edges in increasing order of length. Let us say, this is order is e1 e2 e3 em. What is this mean? This means e1 is the edge with the smallest length. So, to be more specific, l of ei, length of edge ei is less than the length of the edge ei plus 1, less than or equal to. Now, what should be the next step? For i going from one to m do, what should I do? Take the first element? Take ei to that spanning tree. So, we need to define some spanning tree. Let say, my spanning tree is T which is initially, null. T is the set of edges. So, what should I do now? If ei union T has a cycle, or is a tree then T is T union ei. return T, i plus plus for loop, You could do that, may be. How do we check? We can later array and we can given it a on every edges in type greater we can increases when it is greater than two that we can Wrong. How do you check, if that edge that you are trying to include, form the cycle or not? What is visited means? Before including a vertex in the tree? No, we do not include the vertex in the tree. We are only including edges into the tree. As we included edges in the tree, what is visited array of that edges means? what does visited array of vertices mean? Sir, we can do that we can take that both vertices the n point of that edge and we can go for dfso and pfso DFSO, BSFO in what? We will have to develop this later. We will see how to do it and important thing is also to do it efficiently. because that will dictate the running time, because expect for this step, there is nothing else this algorithm. How much time will that take? m log m So, this will, if this step takes less then m log m time, over all iteration put together then this will be an order, m log m algorithm. So, we have to somehow achieve that, but we will come to that point later. Before that, we have to argue, why this is a minimum spanning tree? That means all you are saying, you know, you cannot greedily impure the tree. May be, but there is some other sequence of, No, we are not taking always the minimum. We are not taking always the minimum, because, we are at sometime, when the minimum forms a cycle, we through that minimum away. So, we need to formalize this equation. All I will say is, this is not a proof. This is an intrusion for the proof. Let us see what a proof looks like. So now, what we are going to do? Look at this carefully because this is how you will have to write your proofs in the exams. I am going to look at the edges of Kruskal is algorithm, the edges picked by Kruskal is algorithm. So, Kruskal is algorithm picks up certain set of edges. Let us call those edges, let us give those edges name. Let us call them g1, g1 is like say, the first edge in Kruskal is algorithm. So, clearly it is the edges of the, so let us g1 g2 g3. How many edges of does Kruskal is algorithm take? n minus 1,less than or equal to all edge lengths are distinct the same proof can be extended to a non distinct case also. That will be a question in the majors. So, but for now, you will, we will just assume that The other set of edges is the set of edges that, what should be the other? So, this is the edges that Kruskal is pick. Suppose, you have figured out, what is the best possible tree is? f1 f2 f3and again this ordering is such that f1 is less than f2 which is less than f3 and so on. This is the optimum tree. By optimum I mean, the best tree, the minimum spanning tree. Now, these two sets of edges need not be the same. What we will argue, is that they are indeed the same. If they are the same then what we have found from Kruskal is algorithm is the best tree. So, if these two set of edges are not the same, so, the proof is by contradiction. Suppose, these set differ and the first place they differ is i. What you mean by that?. Because, that will mean that gi and fi are also the same. So, let us say, this is the first place where they differ, first point of difference. Case 1, gi, let say less than fi. every, all edge lengths are distinct. g i cannot be one of these because it is of length, strictly less than, I actually mean, length of gi less then length of fi, just to be more particular. I am not going to write it again but that is what I, it really means. So, gi less than fi, then that means, the g i cannot be one of these and it cannot be 1of these. Can it one of these? No, because these are the same as these and they are all distinct. So, these cannot be the same, so that So, g i less than fi, add gi to opt tree. gi is the longest edge in the cycle, can gi be the longest edge on the cycle? Add gi to optimum tree. Let C be the cycle formed. This cycle, I am calling it C. You are saying all of these edges had length less than gi, what are these edges? These edges are some edges are from this side. They are all from this set, f1 to fi, n minus one point Now, if every edge has length less than gi, then these edges have to be f1 through fi minus 1, yes. These edges have to be from the set f1 to fi minus 1. Then these edges have to be from the set, f1 to fi minus one. But, f1 through fi minus one is identical to g1 to gi minus one. Contradiction, should I repeat? No? Quick repetition, gi is less than fi, I add gi to the optimum tree, to this tree. But, this set is identical to this set. Great, that is why this cannot happen. Let us look at the other cases. Do you want me to repeat? Does everyone following the line of argument? There are two or 3, two or three fine point there. But, let us look at the other case. Let me one second, write down this, because it is useful to have this. We are not talking of case two and this case is when fi is less than gi. Recall that these are identical and now f i is less than gi, that is what we are going to do now. fi is distinct from g1to gi minus one. Why did Kruskal not pick fi? Ask him, why ask us? Why did Kruskal not pick fi? Because they form the cycle, that was the only reason why he did not pick fi noise. If it forms the cycle, so because, fi union g1 through gi minus one contains a cycle, these set of edges but these set of edges is identical to fi union f1 to fi minus 1that implies optimum tree also has a cycle but that is not possible. Because it is a tree, so that is the contradiction. There is no place where these two sets differ. Because, you said, if these two sets differ, let us look at the first place where they differ. If they differ, then let us look at the first place where they differ and apply this that means they do not differ at all, if they do not differ, these to case are the same. So, Kruskal is algorithm finds the best tree. Now, note that there is no notion of the term the best tree. Should I use the term the best tree or a best tree. So, is the minimum spanning tree unique? Yes, listen to me carefully edge lengths are distinct. Is the MST unique? Yes, if edge lengths are distinct. No, otherwise. Why no, otherwise? very simple. So, if edge lengths are not distinct, then you could have many different minimum spanning trees. But, if the edge lengths are unique or distinct, then you have a unique minimum spanning tree. That follows from the proof that we have seen, they will be a unique minimum spanning tree. Great, we have proved the correctness of Kruskal is algorithm. Now, we have to figure out when I include an edge, how do I ensure that no cycle in formed. Basically, that is the question, how do we check if a cycle is formed when an edge e, let say, an edge e, u comma v is included and we have to do this quickly. When will be a, when will a cycle be formed? I am trying to include this edge, u, v. When u and v are already connected Cycle is formed if and only if u and v are already connected. Yes, already connected, u and v are in the same connected component. Connected component or component So we are, what we are going to do is, we are going to maintain the collection of components. So note that, so, what is happening? In Kruskal is algorithm, suppose, these were my vertices Does not matter. This is or no matter, what three edges I pick, it will always have n minus three connected component. three edges which form of a forest, then the number of trees in the forest. See, if I have a forest containing some k edges, then how many trees are there in my forest? n minus k, this you can prove very easily. Basically, I combine, two connected components into one connected component. That is the way you have to think of, I combine two connected components into one connected component So, the number of connected components reduces by one every time you take an edge. So, at each step with every edge we include. So, what we are going to do is, to maintain the connected component we have at this stage, how many connected component have at this stage? four point I am going to maintain them as four sets of vertices. What do I mean by that? Let me give these vertices names, a, b, c, d, e, f, g, h. So, I am going to have four set, abc is one set, fgh is another, d is the third and e is the fourth. These are the four sets that I have at this point. I am just interested in the sets of vertices. The sets of vertices in one connected component. They form one set, as you can see, these sets are all disjoint and there union is the universe, they form a partition of the vertices sets. Now, what is it that happens at each step? When I try to include an edge what do I have to check? So, this is the data structure we have to maintain. We are going to discuss it in more detail in next class. You just keep this in mind and we will see how do to this data structure and what time does it give us for Kruskal is algorithm. So, with that we are going to end today is discussion. We are going to continue the discussion on this data structure in next class. 
</body>
</html>